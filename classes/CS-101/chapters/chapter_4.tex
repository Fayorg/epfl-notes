\chapter{Sets and Functions}

\section{Sets}
\begin{definition}[Set]
    A set is a well-defined collection of distinct objects, considered as an object in its own right. Sets are typically denoted by capital letters (e.g., $A$, $B$, $C$), and the objects within a set are called elements or members. The notation $x \in A$ indicates that $x$ is an element of the set $A$, while $x \notin A$ indicates that $x$ is not an element of $A$.
\end{definition}
The order in a set and duplicate elements do not matter. For example, the sets $\{1, 2, 3\}$, $\{3, 2, 1\}$, and $\{1, 2, 2, 3\}$ are all considered equal. \\
To describe a set, we can use:
\begin{itemize}[itemsep=1pt,label=$\circ$]
    \item All members are listed between curly braces, e.g., $A = \{1, 2, 3, 4, 5\} = \{1, \ldots, 5\}$ (Roster form).
    \item A property or condition that characterizes its members, e.g., $B = \{x \mid P(x)\}$ (Set-builder form).
\end{itemize}

\begin{eg}
    Some examples of sets:
    \begin{itemize}[itemsep=1pt,label=$\circ$]
        \item The set of all letters in the English alphabet: $A = \{a, b, c, \ldots, z\}$.
        \item The set of all even natural numbers: $E = \{x \mid x = 2n, n \in \mathbb{N}\}$.
        \item The set of all prime numbers less than 10: $P = \{2, 3, 5, 7\}$.
        \item The set of all real numbers between 0 and 1: $R = \{x \mid 0 < x < 1, x \in \mathbb{R}\}$.
    \end{itemize}
\end{eg}

\begin{eg}
    Some sets are given special names:
    \begin{itemize}[itemsep=1pt,label=$\circ$]
        \item The empty set (or null set) is the set that contains no elements, denoted by $\emptyset$ or $\{\}$.
        \item The set of natural numbers is denoted by $\mathbb{N} = \{0, 1, 2, \ldots\}$.
        \item The set of integers is denoted by $\mathbb{Z} = \{\ldots, -2, -1, 0, 1, 2, \ldots\}$.
        \item The set of positive integers is denoted by $\mathbb{Z}^+ = \{1, 2, 3, \ldots\}$.
        \item The set of real numbers is denoted by $\mathbb{R}$.
        \item The set of complex numbers is denoted by $\mathbb{C} = \{a + bi \mid a, b \in \mathbb{R}, i^2 = -1\}$.
    \end{itemize}
\end{eg}
Sets can also contain other sets as elements. For example, $A = \{1, 2, \{3, 4\}\}$ is a set containing the elements 1, 2, and the set $\{3, 4\}$.

\begin{definition}[Empty Set]
    The empty set is the unique set that contains no elements. It is denoted by $\emptyset$ or $\{\}$. The empty set is a subset of every set, including itself.
\end{definition}

\begin{definition}[Singleton Set]
    A singleton set is a set that contains exactly one element. For example, $\{a\}$ is a singleton set containing the element $a$.
\end{definition}
Note that the empty set $\emptyset$ is different from the singleton set $\{\emptyset\}$, which contains the empty set as its only element.

\begin{definition}[Universal Set]
    The universal set is the set that contains all the objects or elements under consideration, usually denoted by $U$. The specific elements of the universal set depend on the context of the discussion.
\end{definition}

\subsection{Interval Notation}
\begin{definition}[Interval]
    An interval is a set of real numbers that contains all real numbers between any two numbers in the set. Intervals can be classified into several types based on whether they include or exclude their endpoints:
    \begin{itemize}[itemsep=1pt,label=$\circ$]
        \item Closed interval: $[a, b] = \{x \in \mathbb{R} \mid a \leq x \leq b\}$ (includes both endpoints).
        \item Open interval: $(a, b) = \{x \in \mathbb{R} \mid a < x < b\}$ (excludes both endpoints).
        \item Half-open (or half-closed) interval: $[a, b) = \{x \in \mathbb{R} \mid a \leq x < b\}$ (includes $a$ but excludes $b$), and $(a, b] = \{x \in \mathbb{R} \mid a < x \leq b\}$ (excludes $a$ but includes $b$).
        \item Infinite intervals: $[a, \infty) = \{x \in \mathbb{R} \mid x \geq a\}$, $(a, \infty) = \{x \in \mathbb{R} \mid x > a\}$, $(-\infty, b] = \{x \in \mathbb{R} \mid x \leq b\}$, and $(-\infty, b) = \{x \in \mathbb{R} \mid x < b\}$.
    \end{itemize}
\end{definition}

\subsection{Venn Diagrams}
\begin{definition}[Venn Diagram]
    A Venn diagram is a graphical representation of sets and their relationships using overlapping circles or other shapes. Each circle represents a set, and the overlapping regions represent the intersections of the sets. Venn diagrams are useful for visualizing concepts such as union, intersection, and complement of sets.
\end{definition}

\begin{eg}
    Here is a simple Venn diagram representing the set $V$ of vowel letters in the English alphabet:
    \begin{center}
        \begin{tikzpicture}
            \draw[] (-4, -2.5) rectangle (4, 2.5) node[below left] {U};
            \draw[primary] (-1,-.3) circle (2) node[above=2cm] {$V$};
            \node[primary] at (-1.3,0.8) {a};
            \node[primary] at (0.1,0.6) {e};
            \node[primary] at (-1.6,-0.5) {i};
            \node[primary] at (0,-1) {o};
            \node[primary] at (-1,-1.6) {u};
        \end{tikzpicture}
    \end{center}
\end{eg}

\subsection{Subsets}
\begin{definition}[Subset]
    A set $A$ is a subset of a set $B$ (or $B$ is a superset of $A$), denoted by $A \subseteq B$, if every element of $A$ is also an element of $B$. If $A$ is a subset of $B$ but $A \neq B$, then we say that $A$ is a proper subset of $B$, denoted by $A \subset B$.
\end{definition}
\begin{eg}
    Some examples of subsets:
    \begin{itemize}[itemsep=1pt,label=$\circ$]
        \item $\{1, 2\} \subseteq \{1, 2, 3, 4, 5\}$.
        \item $\{a, e, i\} \subseteq \{a, b, c, d, e, f, g, h, i\}$.
        \item $\emptyset \subseteq A$ for any set $A$.
        \item $\{1, 2, 3\} \supseteq \{1, 2, 3\}$ (every set is a superset of itself).
    \end{itemize}
\end{eg}
To show that $A \subseteq B$, we need to prove that if $x \in A$, then $x \in B$. To show that $A \not\subseteq B$, we need to find an element $x$ such that $x \in A$ and $x \notin B$.
\begin{theorem}
    For any sets $A$ we have $\emptyset \subseteq A$ and $A \subseteq A$.
\end{theorem}
\begin{proof}
    To show that $\emptyset \subseteq A$, we need to prove that if $x \in \emptyset$, then $x \in A$. Since there are no elements in the empty set, the statement is vacuously true. Therefore, $\emptyset \subseteq A$ for any set $A$. \\
    To show that $A \subseteq A$, we need to prove that if $x \in A$, then $x \in A$. This is trivially true since every element of $A$ is also an element of $A$. Therefore, $A \subseteq A$.
\end{proof}

\begin{definition}[Proper Subset]
    A set $A$ is a proper subset of a set $B$, denoted by $A \subset B$, if $A \subseteq B$ and there exists at least one element in $B$ that is not in $A$. We can write this as:
    \[ \forall x(x \in A \to x \in B) \land \exists y(y \in B \land y \notin A) \]
\end{definition}

\begin{definition}[Set Equality]
    Two sets $A$ and $B$ are equal, denoted by $A = B$, if they contain exactly the same elements. This means that $A \subseteq B$ and $B \subseteq A$. We can write this as:
    \[ A = B \iff \forall x(x \in A \leftrightarrow x \in B) \]
\end{definition}

\begin{definition}[Power Set]
    The power set of a set $A$, denoted by $\mathcal{P}(A)$, is the set of all subsets of $A$. This includes the empty set and $A$ itself. If $A$ has $n$ elements, then the power set $\mathcal{P}(A)$ has $2^n$ elements.
\end{definition}
\begin{eg}
    If $A = \{1, 2\}$, then the power set of $A$ is:
    \[ \mathcal{P}(A) = \{\emptyset, \{1\}, \{2\}, \{1, 2\}\} \]
    The size of a set $A$ is denoted by $|A|$. In this case, $|A| = 2$ and $|\mathcal{P}(A)| = 2^2 = 4$.
\end{eg}
Note that if $A = \{a, a, b\}$, then $|A| = 2$ because sets do not care about duplicate elements.

\subsection{Tuples}
\begin{definition}[Tuple]
    An $n$-tuple is an ordered collection of $n$ elements, denoted by $(a_1, a_2, \ldots, a_n)$. The order of the elements matters, and duplicate elements are allowed. Two $n$-tuples are equal if and only if they have the same elements in the same order.
\end{definition}
Note that 2-tuples are also called ordered pairs, and 3-tuples are also called ordered triples.

\begin{definition}[Cartesian Product]
    The Cartesian product of two sets $A$ and $B$, denoted by $A \times B$, is the set of all ordered pairs $(a, b)$ where $a \in A$ and $b \in B$. Formally,
    \[ A \times B = \{(a, b) \mid a \in A, b \in B\} \]
\end{definition}
Note that $A \times B \neq B \times A$ in general.
\begin{eg}
    If $A = \{1, 2\}$ and $B = \{x, y\}$, then the Cartesian product of $A$ and $B$ is:
    \[ A \times B = \{(1, x), (1, y), (2, x), (2, y)\} \]
    And the product $B \times A$ is:
    \[ B \times A = \{(x, 1), (x, 2), (y, 1), (y, 2)\} \]
    The size of the Cartesian product is given by $|A \times B| = |A| \cdot |B|$. In this case, $|A| = 2$, $|B| = 2$, and $|A \times B| = 2 \cdot 2 = 4$.
\end{eg}
\begin{eg}
    The Cartesian product of the sets $A_1, A_2, \ldots, A_n$ is defined as:
    \[ A_1 \times A_2 \times \cdots \times A_n = \{(a_1, a_2, \ldots, a_n) \mid a_i \in A_i \text{ for } i = 1, 2, \ldots, n\} \]
    is the set of ordered n-tuples. If all sets are equal, i.e., $A_1 = A_2 = \cdots = A_n = A$, then we write:
    \[ A^n = \underbrace{A \times A \times \cdots \times A}_{n \text{ times}} \]
    The size of the Cartesian product in this case is given by $|A^n| = |A|^n$.
\end{eg}

\begin{definition}[Truth Set of Predicates]
    The truth set of a predicate $P(x)$ is the set of all elements in the domain $D$ of discourse for which the predicate is true. It is denoted by:
    \[ \{x \in D \mid P(x)\} \]
\end{definition}
\begin{eg}
    The truth set of the predicate $P(x)$, where the domain $D$ is the integers and $P(x) = |x| = 1$ is the set $\{-1, 1\}$.
\end{eg}

\begin{definition}[Cardinality of a Set]
    The cardinality of a set $A$, denoted by $|A|$, is the number of elements in the set. If $A$ is a finite set, then its cardinality is a non-negative integer. If $A$ is an infinite set, its cardinality is described using concepts from set theory, such as countable and uncountable infinity.
\end{definition}
\begin{eg}
    Some examples of cardinality:
    \begin{itemize}[itemsep=1pt,label=$\circ$]
        \item If $A = \{1, 2, 3\}$, then $|A| = 3$.
        \item If $B = \{\emptyset\}$, then $|B| = 1$.
        \item $|\emptyset| = 0$.
        \item The set of natural numbers $\mathbb{N}$ is infinite and countable, so its cardinality is denoted by $\aleph_0$ (aleph-null).
        \item The set of real numbers $\mathbb{R}$ is uncountably infinite, and its cardinality is denoted by $2^{\aleph_0}$ (the cardinality of the continuum).
    \end{itemize}
\end{eg}

\subsection{Set Operations}
\begin{definition}[Union]
    The union of two sets $A$ and $B$, denoted by $A \cup B$, is the set of all elements that are in $A$, in $B$, or in both. Formally,
    \[ A \cup B = \{x \mid x \in A \text{ or } x \in B\} \]
    \begin{center}
        \begin{tikzpicture}
            \draw[] (-4, -2.5) rectangle (4, 2.5) node[below left] {U};
            \path[fill=secondary!40,opacity=.3, even odd rule]
                (-1,-.3) circle (2)
                (1,-.3) circle (2);

            \begin{scope}
                \clip (-1,-.3) circle (2);
                \fill[secondary!40,opacity=.3] (1,-.3) circle (2);
            \end{scope}

            % Outlines
            \draw[] (-1,-.3) circle (2) node[above=2cm] {$A$};
            \draw[] (1,-.3) circle (2) node[above=2cm] {$B$};
        \end{tikzpicture}
    \end{center}
\end{definition}
\begin{eg}
    If $A = \{1, 2, 3\}$ and $B = \{3, 4, 5\}$, then the union of $A$ and $B$ is:
    \[ A \cup B = \{1, 2, 3, 4, 5\} \]
    where $5 = |A \cup B| \leq |A| + |B| = 3 + 3 = 6$.
\end{eg}

\begin{definition}[Intersection]
    The intersection of two sets $A$ and $B$, denoted by $A \cap B$, is the set of all elements that are in both $A$ and $B$. Formally,
    \[ A \cap B = \{x \mid x \in A \text{ and } x \in B\} \]
    \begin{center}
        \begin{tikzpicture}
            \draw[] (-4, -2.5) rectangle (4, 2.5) node[below left] {U};

            \begin{scope}
                \clip (-1,-.3) circle (2);
                \fill[secondary!40,opacity=.3] (1,-.3) circle (2);
            \end{scope}

            % Outlines
            \draw[] (-1,-.3) circle (2) node[above=2cm] {$A$};
            \draw[] (1,-.3) circle (2) node[above=2cm] {$B$};
        \end{tikzpicture}
    \end{center}
\end{definition}
\begin{eg}
    If $A = \{1, 2, 3\}$ and $B = \{3, 4, 5\}$, then the intersection of $A$ and $B$ is:
    \[ A \cap B = \{3\} \]
    where $|A \cap B| = 1 \leq \min(|A|, |B|) = \min(3, 3) = 3$.
\end{eg}
\begin{definition}[Cardinality of Set Union]
    The cardinality of the union of two sets $A$ and $B$ is given by the formula:
    \[ |A \cup B| = |A| + |B| - |A \cap B| \]
\end{definition}
\begin{definition}[Difference]
    The difference of two sets $A$ and $B$, denoted by $A - B$ or $A \setminus B$, is the set of all elements that are in $A$ but not in $B$. Formally,
    \[ A - B = \{x \mid x \in A \text{ and } x \notin B\} \]
    \begin{center}
        \begin{tikzpicture}
            \draw[] (-4, -2.5) rectangle (4, 2.5) node[below left] {U};

            \begin{scope}
                \clip (-1,-.3) circle (2);
                \path[fill=secondary!40,opacity=.3, even odd rule]
                (-1,-.3) circle (2)
                (1,-.3) circle (2);
            \end{scope}

            % Outlines
            \draw[] (-1,-.3) circle (2) node[above=2cm] {$A$};
            \draw[] (1,-.3) circle (2) node[above=2cm] {$B$};
        \end{tikzpicture}
    \end{center}
\end{definition}
\begin{eg}
    If $A = \{1, 2, 3\}$ and $B = \{3, 4, 5\}$, then the difference of $A$ and $B$ is:
    \[ A - B = \{1, 2\} \]
    where $|A - B| = 2$.
\end{eg}

\begin{definition}[Complement]
    The complement of a set $A$ with respect to a universal set $U$, denoted by $A^c$ or $\overline{A}$, is the set of all elements in $U$ that are not in $A$. Formally,
    \[ A^c = \{x \in U \mid x \notin A\} \]
    \begin{center}
        \begin{tikzpicture}
            \draw[] (-4, -2.5) rectangle (4, 2.5) node[below left] {U};

            \path[fill=secondary!40,opacity=.3, even odd rule]
                (-4, -2.5) rectangle (4, 2.5)
                (-1,-.3) circle (2);

            % Outlines
            \draw[] (-1,-.3) circle (2) node[above=2cm] {$A$};
            \draw[] (1,-.3) circle (2) node[above=2cm] {$B$};
        \end{tikzpicture}
    \end{center}
\end{definition}
Note that the complement of the complement of $A$ is $A$ itself, i.e., $(A^c)^c = A$.
\begin{eg}
    If the universal set $U = \{1, 2, 3, 4, 5\}$ and $A = \{1, 2, 3\}$, then the complement of $A$ is:
    \[ A^c = \{4, 5\} \]
    where $|A^c| = 2$.
\end{eg}

\begin{definition}[Symmetric Difference]
    The symmetric difference of two sets $A$ and $B$, denoted by $A \oplus B$ or $A \Delta B$, is the set of elements that are in either $A$ or $B$ but not in both. Formally,
    \[ A \oplus B = (A - B) \cup (B - A) = (A \cup B) - (A \cap B) \]
    \begin{center}
        \begin{tikzpicture}
            \draw[] (-4, -2.5) rectangle (4, 2.5) node[below left] {U};
            \path[fill=secondary!40,opacity=.3, even odd rule]
                (-1,-.3) circle (2)
                (1,-.3) circle (2);

            % Outlines
            \draw[] (-1,-.3) circle (2) node[above=2cm] {$A$};
            \draw[] (1,-.3) circle (2) node[above=2cm] {$B$};
        \end{tikzpicture}
    \end{center}
\end{definition}
\begin{eg}
    If $A = \{1, 2, 3\}$ and $B = \{3, 4, 5\}$, then the symmetric difference of $A$ and $B$ is:
    \[ A \oplus B = \{1, 2, 4, 5\} \]
    where $|A \oplus B| = 4$.
\end{eg}

\subsection{Generalised Unions and Intersections}
Note that the union and intersection operations are commutative and associative, this means that:
\begin{itemize}[itemsep=1pt,label=$\circ$]
    \item $A \cup B = B \cup A$ and $A \cap B = B \cap A$ (Commutative Laws).
    \item $(A \cup B) \cup C = A \cup (B \cup C)$ and $(A \cap B) \cap C = A \cap (B \cap C)$ (Associative Laws).
    \item $A \cup (B \cap C) = (A \cup B) \cap (A \cup C)$ and $A \cap (B \cup C) = (A \cap B) \cup (A \cap C)$ (Distributive Laws).
\end{itemize}

\begin{definition}[Generalised Union and Intersection]
    The generalised union and intersection of a collection of sets $\{A_i \mid i \in I\}$, where $I$ is an index set, are defined as follows:
    \begin{itemize}[itemsep=1pt,label=$\circ$]
        \item Generalised Union: $\bigcup_{i \in I} A_i = \{x \mid x \in A_i \text{ for some } i \in I\}$
        \item Generalised Intersection: $\bigcap_{i \in I} A_i = \{x \mid x \in A_i \text{ for all } i \in I\}$
    \end{itemize}
\end{definition}

\begin{eg}
    For $i = 1,2,\ldots$, let $A_i = \{i, i + 1, i + 2, \ldots\}$. Then:
    \[ \bigcup_{i=1}^{n} A_i = A_1 = \{1, 2, 3, \ldots\} \]
    and
    \[ \bigcap_{i=1}^{n} A_i = A_n = \{n, n + 1, n + 2, \ldots\} \]
\end{eg}

\subsection{Set Operations vs Propositional Calculus Connectives}
There is a strong analogy between set operations and propositional calculus connectives:
\begin{itemize}[itemsep=1pt,label=$\circ$]
    \item Union ($\cup$) corresponds to logical disjunction (OR, $\lor$).
    \item Intersection ($\cap$) corresponds to logical conjunction (AND, $\land$).
    \item Complement ($^c$) corresponds to logical negation (NOT, $\neg$).
    \item XOR ($\oplus$) corresponds to logical exclusive disjunction (XOR, $\oplus$).
\end{itemize}
This strong analogy also extends to the laws governing these operations, such as De Morgan's laws, distributive laws, and associative laws.

\begin{eg}
    De Morgan's laws for sets state that:
    \begin{itemize}[itemsep=1pt,label=$\circ$]
        \item The complement of the union of two sets is the intersection of their complements:
        \[ (A \cup B)^c = A^c \cap B^c \]
        \item The complement of the intersection of two sets is the union of their complements:
        \[ (A \cap B)^c = A^c \cup B^c \]
    \end{itemize}
    These laws are analogous to De Morgan's laws in propositional logic:
    \begin{itemize}[itemsep=1pt,label=$\circ$]
        \item The negation of a disjunction is the conjunction of the negations:
        \[ \neg (P \lor Q) \equiv (\neg P) \land (\neg Q) \]
        \item The negation of a conjunction is the disjunction of the negations:
        \[ \neg (P \land Q) \equiv (\neg P) \lor (\neg Q) \]
    \end{itemize}
\end{eg}
The list of identities provided in the Logical Equivalences sub-section can be directly translated into set identities by replacing logical connectives with their corresponding set operations.

\subsection{Proving Set Identities}
To prove set identities, we can use various methods such as:
\begin{eg}
    To prove that $(A \cap B)^c = A^c \cup B^c$, we can show that using the Set Builder Notation:
    \begin{align*}
        (A \cap B)^c &= \{x \mid x \notin (A \cap B)\} &\text{(Definition of complement)}\\
        &= \{x \mid \neg (x \in (A \cap B))\} &\text{(Definition of $\notin$)}\\
        &= \{x \mid \neg (x \in A \land x \in B)\} &\text{(Definition of intersection)}\\
        &= \{x \mid x \notin A \lor x \notin B\} &\text{(De Morgan's Law)}\\
        &= \{x \mid x \in A^c \lor x \in B^c\} &\text{(Definition of complement)}\\
        &= A^c \cup B^c &\text{(Definition of union)}
    \end{align*}
\end{eg}

\begin{eg}
    Let's prove that a set is a subset of another set, specifically that:
    \[ A \cap (B \cup C) \subseteq (A \cap B) \cup (A \cap C) \]
    Thus:
    \begin{align*}
        A \cap (B \cup C) &= \{x \mid x \in A \land x \in (B \cup C)\} &\text{(Definition of intersection)}\\
        &= \{x \mid x \in A \land (x \in B \lor x \in C)\} &\text{(Definition of union)}\\
        &= \{x \mid (x \in A \land x \in B) \lor (x \in A \land x \in C)\} &\text{(Distributive Law)}\\
        &= \{x \mid x \in (A \cap B) \lor x \in (A \cap C)\} &\text{(Definition of intersection)}\\
        &= (A \cap B) \cup (A \cap C) &\text{(Definition of union)}
    \end{align*}
\end{eg}

\begin{eg}
    Let's prove that $(A \cap B)^c = A^c \cup B^c$ using a membership table:
    \begin{center}
        \begin{tabular}{c|c|c|c|c|c|c}
            $x \in A$ & $x \in B$ & $x \in A \cap B$ & $x \in (A \cap B)^c$ & $x \in A^c$ & $x \in B^c$ & $x \in A^c \cup B^c$\\
            \hline
            T & T & T & F & F & F & F\\
            T & F & F & T & F & T & T\\
            F & T & F & T & T & F & T\\
            F & F & F & T & T & T & T\\
        \end{tabular}
    \end{center}
    Since the columns for $x \in (A \cap B)^c$ and $x \in A^c \cup B^c$ are identical, we conclude that $(A \cap B)^c = A^c \cup B^c$.
\end{eg}

\section{Functions}
\begin{definition}[Function]
    Let $A$ and $B$ be two non-empty sets. A function (or mapping, transformation) $f$ from $A$ to $B$, denoted by $f: A \to B$, is an assignment of exactly one element of $B$ to each element of $A$.
\end{definition}

\begin{definition}
    Given a function $f: A \to B$:
    \begin{itemize}[itemsep=1pt,label=$\circ$]
        \item The set $A$ is called the domain of $f$.
        \item The set $B$ is called the codomain of $f$.
        \item We say that $f$ maps $A$ to $B$.
        \item If $f(a) = b$, we say that $b$ is the image of $a$ under $f$, and $a$ is a preimage of $b$.
        \item The range (or image) of $f$ is the set of all images of elements of $A$, denoted by $\text{range}(f)$ or $\text{Im}(f)$, and is a subset of $B$.
        \item If $S \subseteq A$, then the image of $S$ under $f$ is the set $f(S) = \{f(x) \mid x \in S\} \subseteq B$.
    \end{itemize}
\end{definition}
Note that the range is a set of archived values, while the codomain is a set of potential values thus making the range a subset of the codomain.

\begin{eg}
    Let $A = \{a,b,c,d,e\}$ and $B = \{1,2,3,4\}$ with $f(a) = 2$, $f(b) = 1$, $f(c) = 4$, $f(d) = 1$ and $f(e) = 1$. \\ 
    The image of the subset $S = \{b,c,d\}$ is the set $f(S) = \{1,4\}$.
\end{eg}

\begin{definition}[Real-Valued Function]
    A real-valued function is a function whose codomain is the set of real numbers, i.e., $f: A \to \mathbb{R}$.
\end{definition}

\begin{definition}[Integer-Valued Function]
    An integer-valued function is a function whose codomain is the set of integers, i.e., $f: A \to \mathbb{Z}$.
\end{definition}

\subsection{Adding and Multiplying Functions}
Two real-functions or two integer-functions with the same domain can be added and multiplied.
\begin{definition}[Sum and Product of Functions]
    Let $f: A \to \mathbb{R}$ and $g: A \to \mathbb{R}$ be two real-valued functions with the same domain $A$. The sum and product of $f$ and $g$ are defined as follows:
    \begin{itemize}[itemsep=1pt,label=$\circ$]
        \item Sum: $(f + g)(x) = f(x) + g(x)$ for all $x \in A$.
        \item Product: $(f \cdot g)(x) = f(x) \cdot g(x)$ for all $x \in A$.
    \end{itemize}
\end{definition}

\begin{eg}
    Let $f_1(x) = x^2$ and $f_2(x) = x - x^2$ from $\mathbb{R}$ to $\mathbb{R}$. Then:
    \begin{itemize}[itemsep=1pt,label=$\circ$]
        \item The sum of $f_1$ and $f_2$ is:
        \[ (f_1 + f_2)(x) = f_1(x) + f_2(x) = x^2 + (x - x^2) = x \]
        \item The product of $f_1$ and $f_2$ is:
        \[ (f_1 \cdot f_2)(x) = f_1(x) \cdot f_2(x) = x^2 \cdot (x - x^2) = x^3 - x^4 \]
    \end{itemize}
\end{eg}
Functions can be represented in various ways, including:
\begin{itemize}[itemsep=1pt,label=$\circ$]
    \item An explicit statement of the assignment (a graph of nodes and relations).
    \item A formula (e.g., $f(x) = x^2$).
    \item A computer program (python program that output $n^2$ when the input is $n$).
\end{itemize}

\subsection{Injective, Surjective and Bijective Functions}
\begin{definition}[Injective Function]
    A function $f: A \to B$ is injective (or one-to-one) if different elements in the domain map to different elements in the codomain. Formally, $f$ is injective if:
    \[ \forall a_1, a_2 \in A, (f(a_1) = f(a_2) \implies a_1 = a_2) \]
\end{definition}

\begin{definition}[Surjective Function]
    A function $f: A \to B$ is surjective (or onto) if every element in the codomain has at least one preimage in the domain. Formally, $f$ is surjective if:
    \[ \forall b \in B, \exists a \in A \text{ such that } f(a) = b \]
\end{definition}

\begin{definition}[Bijective Function]
    A function $f: A \to B$ is bijective if it is both injective and surjective. This means that every element in the codomain is mapped to by exactly one element in the domain.
\end{definition}

\begin{eg}
    Let's show that $f(x) = x + 1$ from $\mathbb{Z}$ to $\mathbb{Z}$ is bijective.
    \begin{itemize}[itemsep=1pt,label=$\circ$]
        \item To show that $f$ is injective, assume that $f(a_1) = f(a_2)$ for some $a_1, a_2 \in \mathbb{Z}$. Then:
        \[ a_1 + 1 = a_2 + 1 \implies a_1 = a_2 \]
        Thus, $f$ is injective.
        \item To show that $f$ is surjective, let $b \in \mathbb{Z}$ be an arbitrary element in the codomain. We need to find an $a \in \mathbb{Z}$ such that $f(a) = b$. Let $a = b - 1$. Then:
        \[ f(a) = f(b - 1) = (b - 1) + 1 = b \]
        Thus, $f$ is surjective.
    \end{itemize}
    Since $f$ is both injective and surjective, it is bijective.
\end{eg}
In general to show that a function is:
\begin{itemize}[itemsep=1pt,label=$\circ$]
    \item Injective: Assume $f(a_1) = f(a_2)$ and show that $a_1 = a_2$.
    \item Not Injective: Find $a_1 \neq a_2$ such that $f(a_1) = f(a_2)$.
    \item Surjective: Let $b \in B$ and find $a \in A$ such that $f(a) = b$.
    \item Not Surjective: Find $b \in B$ such that there is no $a \in A$ with $f(a) = b$.
\end{itemize}
\subsection{Inverse Functions}
\begin{definition}[Inverse Function]
    Let $f: A \to B$ be a bijective function. The inverse function of $f$, denoted by $f^{-1}: B \to A$, is defined by the rule that for each $b \in B$, $f^{-1}(b) = a$ if and only if $f(a) = b$. In other words, $f^{-1}$ reverses the mapping of $f$.
\end{definition}
\begin{eg}
    Let $f(x) = x + 1$ from $\mathbb{Z}$ to $\mathbb{Z}$. We have already shown that $f$ is bijective. To find the inverse function $f^{-1}$, we need to solve for $x$ in terms of $y$ where $y = f(x)$:
    \[ y = x + 1 \implies x = y - 1 \]
    Thus, the inverse function is:
    \[ f^{-1}(y) = y - 1 \]
    for all $y \in \mathbb{Z}$.
\end{eg}

\subsection{Composition and Partial Functions}
\begin{definition}[Composition of Functions]
    Let $f: A \to B$ and $g: B \to C$ be two functions. The composition of $f$ and $g$, denoted by $g \circ f$, is a function from $A$ to $C$ defined by:
    \[ (g \circ f)(x) = g(f(x)) \]
    for all $x \in A$.
\end{definition}
Note that the composition of functions is not commutative (i.e., in general, $g \circ f \neq f \circ g$).
\begin{eg}
    Let $f(x) = 2x$ from $\mathbb{R}$ to $\mathbb{R}$ and $g(x) = x + 3$ from $\mathbb{R}$ to $\mathbb{R}$. Then the composition $g \circ f$ is given by:
    \[ (g \circ f)(x) = g(f(x)) = g(2x) = 2x + 3 \]
    for all $x \in \mathbb{R}$. \\
    The composition $f \circ g$ is given by:
    \[ (f \circ g)(x) = f(g(x)) = f(x + 3) = 2(x + 3) = 2x + 6 \]
    for all $x \in \mathbb{R}$. \\
    Note that $g \circ f \neq f \circ g$.
\end{eg}

\begin{definition}[Partial Function]
    A partial function $f$ from a set $A$ to a set $B$ is a mapping of each element $a$ in a subset $S$ with $S \subseteq A$ called the domain of definition of $f$, to a unique element $b$ in $B$. If $a \in A \setminus S$, we say that $f$ is undefined at $a$.
\end{definition}
When the domain of definition is the entire set $A$ ($S = A$), then $f$ is a total function. A partial function is often used when its exact domain is not known (or difficult to determine) or when it is not necessary to define the function for all elements of $A$.

\begin{eg}
    Let the function $f: \mathbb{Z} \to \mathbb{N}$ defined as $f(x) = \sqrt{x}$, if and only if, $x = m^2$ (i.e., $x$ is a perfect square for some integer $m$). Then:
    \begin{itemize}[itemsep=1pt,label=$\circ$]
        \item The domain of definition of $f$ is $S = \{0, 1, 4, 9, 16, \ldots\}$ (the set of all non-negative perfect squares).
        \item The codomain of $f$ is $\mathbb{N}$ (the set of natural numbers).
        \item The range of $f$ is $\{0, 1, 2, 3, 4, \ldots\}$ (the set of all natural numbers).
        \item The function $f$ is undefined for all integers that are not perfect squares (e.g., $f(2)$, $f(3)$, $f(5)$, etc. are undefined).
    \end{itemize}
\end{eg}

\section{Generating Functions}
% Notes taken by hand from Prof. on moodle on Intro to generating functions.
% TODO: Complete and move to right chapter.
\begin{definition}[Formal Power Sum]
    A formal power sum (or formal power series) is an infinite series of the form:
    \[ F(x) = a_0 + a_1 x + a_2 x^2 + a_3 x^3 + \cdots = \sum_{n=0}^{\infty} a_n x^n \]
    where $a_n$ are coefficients from a given field (e.g., real numbers, complex numbers) and $x$ is an indeterminate. The important part is that this sum is formal, i.e., we are concerned if this infinite sum converges.
\end{definition}
To add and multiply formal power sums, we use the following rules:
\begin{itemize}[itemsep=1pt,label=$\circ$]
    \item Addition: If $F(x) = \sum_{n=0}^{\infty} a_n x^n$ and $G(x) = \sum_{n=0}^{\infty} b_n x^n$, then:
    \[ F(x) + G(x) = \sum_{n=0}^{\infty} (a_n + b_n) x^n \]
    \item Multiplication: If $F(x) = \sum_{n=0}^{\infty} a_n x^n$ and $G(x) = \sum_{n=0}^{\infty} b_n x^n$, then:
    \[ F(x) \cdot G(x) = \sum_{n=0}^{\infty} \left( \sum_{k=0}^{n} a_k b_{n-k} \right) x^n \]
\end{itemize}
These are well defined operations because for a given $n$, there are only a finite number of operations to perform no matter how large $n$ is. Hence the fact that the sums are infinite does not matter. \\
To divide formal power sums:
\begin{itemize}[itemsep=1pt,label=$\circ$]
    \item Division: If $F(x) = \sum_{n=0}^{\infty} a_n x^n$ and $G(x) = \sum_{n=0}^{\infty} b_n x^n$ with $b_0 \neq 0$, then we can find a formal power sum $H(x) = \sum_{n=0}^{\infty} c_n x^n$ such that:
    \[ F(x) = G(x) \cdot H(x) \quad \Leftrightarrow \quad H(x) = \frac{F(x)}{G(x)} \]
    by solving for the coefficients $c_n$ recursively using the relation:
    \[ c_n = \frac{1}{b_0} \left( a_n - \sum_{k=1}^{n} b_k c_{n-k} \right) \]
    for all $n \geq 0$ and $b_0 \neq 0$.
\end{itemize}

\begin{definition}[Generating Function]
    The generating function of a sequence $\{a_n\}_{n=0}^{\infty}$ is the formal power sum:
    \[ G(x) = \sum_{n=0}^{\infty} a_n x^n \]
    where $a_n$ is the $n$-th term of the sequence. Generating functions are used to study and manipulate sequences in combinatorics and other areas of mathematics.
\end{definition}

\subsection{Solving Recurrence Relations using Generating Functions}
\begin{eg}
    Let's solve the reccurence relation $a_n = 3a_{n-1}- 2a_{n-2}$ for $n \geq 2$ with $a_0 = 1$ and $a_1 = 3$ using generating functions. We could solve for a given $n$ using the recurrence relation, but this would be inefficient. Instead, we will use generating functions to find a closed form for $a_n$. \\
    We start by multiplying both sides of the recurrence relation by $x^n$ and summing over all $n \geq 2$:
    \[ \sum_{n=2}^{\infty} a_n x^n = \sum_{n=2}^{\infty} 3a_{n-1} x^n - \sum_{n=2}^{\infty} 2a_{n-2} x^n \]
    By rewriting the sums to have the same index, we get:
    \[ \sum_{n=2}^{\infty} a_n x^n = 3x \sum_{n=1}^{\infty} a_n x^n - 2x^2 \sum_{n=0}^{\infty} a_n x^n \]
    Let $G(x) = \sum_{n=0}^{\infty} a_n x^n$ be the generating function for the sequence $\{a_n\}$. Then we can rewrite the equation as:
    \[ G(x) - a_0 - a_1 x = 3x (G(x) - a_0) - 2x^2 G(x) \]
    If we group the terms involving $G(x)$ on one side, we get:
    \[ G(x) - 3x G(x) + 2x^2 G(x) = a_0 + a_1 x - 3x a_0 \]
    Factoring out $G(x)$, we have:
    \[ G(x)(1 - 3x + 2x^2) = a_0 + a_1 x - 3x a_0 \]
    Substituting the initial conditions $a_0 = 1$ and $a_1 = 3$, we get:
    \[ G(x)(1 - 3x + 2x^2) = 1 + 3x - 3x = 1 \]
    Since $1 - 3x + 2x^2 \neq 0$, we can solve for $G(x)$:
    \[ G(x) = \frac{1}{1 - 3x + 2x^2} \]
    We can factor the denominator:
    \[ G(x) = \frac{1}{(1 - x)(1 - 2x)} \]
    Using partial fraction decomposition, we can express $G(x)$ as:
    \[ G(x) = \frac{A}{1 - x} + \frac{B}{1 - 2x} \]
    for some constants $A$ and $B$. Multiplying both sides by the denominator, we get:
    \[ 1 = A(1 - 2x) + B(1 - x) \]
    Setting $x = 1$ gives $1 = -A$, so $A = -1$. Setting $x = \frac{1}{2}$ gives $1 = \frac{B}{2}$, so $B = 2$. Thus, we have:
    \[ G(x) = \frac{-1}{1 - x} + \frac{2}{1 - 2x} \]
    We can now use the geometric series formula to expand each term:
    \[ G(x) = -\sum_{n=0}^{\infty} x^n + 2\sum_{n=0}^{\infty} (2x)^n = -\sum_{n=0}^{\infty} x^n + 2\sum_{n=0}^{\infty} 2^n x^n \]
    Combining the sums, we get:
    \[ G(x) = \sum_{n=0}^{\infty} (-1 + 2^{n+1}) x^n \]
    Therefore, the closed form for $a_n$ is:
    \[ a_n = -1 + 2^{n+1} = 2^{n+1} - 1 \]
    for all $n \geq 0$.
\end{eg}
Note that the geometric series formula states that:
\[ \frac{1}{1 - xr} = 1 + xr + x^2r^2 + x^3r^3 + \ldots = \sum_{n=0}^{\infty} (xr)^n \]
Let's summarise how to solve recurrence relations using generating functions:
\begin{itemize}[itemsep=1pt,label=$\circ$]
    \item Write down the recurrence relation and initial conditions.
    \item Multiply both sides of the recurrence relation by $x^n$ and sum over all $n$.
    \item Rewrite each expression in terms of the generating function $G(x)$.
    \item Rearrange terms to get to an expression for $G(x)p(x) = q(x)$.
    \item Divide by $p(x)$ to get $G(x) = \frac{q(x)}{p(x)}$.
    \item Factorize $p(x)$ as $p(x) = \prod_{i=1} (1 - r_ix)$, where $\frac{1}{r_i}$ are the roots of the polynomial.
    \item If all roots are distinct, use partial fraction decomposition to express $G(x)$ as a sum of simpler fractions.
    \item Determine $\beta_i$ by solving a linear system of equations.
    \item Use the geometric series formula to expand each term and find a closed form for $a_n$.
    \item Sum up all the terms to get an expression for $a_n$.
\end{itemize}

\subsection{Partial Fraction Expansion}
\begin{definition}[Partial Fraction Expansion]
    Partial fraction expansion is a method used to decompose a rational function (a fraction where both the numerator and denominator are polynomials) into a sum of simpler fractions.
    \[ \frac{P(x)}{Q(x)} = \sum_{i} \frac{A_i}{(x - r_i)^{k_i}} + \sum_{j} \frac{B_j x + C_j}{(x^2 + px + q)^{m_j}} \]
    where $P(x)$ and $Q(x)$ are polynomials, $r_i$ are the roots of the polynomial $Q(x)$, and $A_i$, $B_j$, and $C_j$ are constants to be determined.
\end{definition}

\section{Exercices}
This section gathers a selection of exercises related to Chapter \thechapter, taken from weekly assignments, past exams, textbooks, and other sources. The origin of each exercise will be indicated at its beginning.

\begin{eg}
    How many elements does each of the following sets have where $a$ and $b$ are distinct elements?
    \begin{enumerate}[label=(\alph*),itemsep=1pt]
        \item $\mathcal{P}(\{a, b, \{a, b\}\})$
        \item $\mathcal{P}(\{\emptyset, a, \{a\}, \{\{a\}\}\})$
        \item $\mathcal{P}(\mathcal{P}(\emptyset))$
    \end{enumerate}
    $\newline$
    Answer:
    \begin{enumerate}[label=(\alph*),itemsep=1pt]
        \item The set $\{a, b, \{a, b\}\}$ has 3 elements, so its power set has $2^3 = 8$ elements.
        \item The set $\{\emptyset, a, \{a\}, \{\{a\}\}\}$ has 4 elements, so its power set has $2^4 = 16$ elements.
        \item The set $\mathcal{P}(\emptyset)$ is the power set of the empty set, which has 1 element (the empty set itself). Therefore, $\mathcal{P}(\mathcal{P}(\emptyset))$ has $2^1 = 2$ elements.
    \end{enumerate}
\end{eg}