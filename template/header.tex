\usepackage{graphicx}
\usepackage{amsmath, amsfonts, mathtools, amsthm, amssymb, mathrsfs}
\usepackage{geometry}
\usepackage{cancel}
\usepackage{systeme}
\usepackage[dvipsnames]{xcolor}
\usepackage{enumitem}
\usepackage{etoolbox} % For \ifdefequal
\usepackage{subcaption} % For subfigures

\usepackage{thmtools}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage{xstring}

\mdfsetup{skipabove=1em,skipbelow=0em}

\input{../../template/boxes.tex}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{ForestGreen!70!black}, bodyfont=\normalfont,
	mdframed={
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=ForestGreen, backgroundcolor=ForestGreen!8,
			nobreak=false
		}
]{thmgreen2box}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{TealBlue!70!black}, bodyfont=\normalfont,
	mdframed={
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=TealBlue,
			nobreak=false
		}
]{thmblueline}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{RawSienna!70!black}, bodyfont=\normalfont,
	mdframed={
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=RawSienna, backgroundcolor=RawSienna!8,
			nobreak=false
		}
]{thmred2box}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{SeaGreen!70!black}, bodyfont=\normalfont,
	mdframed={
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=SeaGreen, backgroundcolor=SeaGreen!2,
			nobreak=false
		}
]{thmgreen3box}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{WildStrawberry!70!black}, bodyfont=\normalfont,
	mdframed={
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=WildStrawberry, backgroundcolor=WildStrawberry!5,
			nobreak=false
		}
]{thmpinkbox}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{MidnightBlue!70!black}, bodyfont=\normalfont,
	mdframed={
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=MidnightBlue, backgroundcolor=MidnightBlue!5,
			nobreak=false
		}
]{thmblue2box}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{Gray!70!black}, bodyfont=\normalfont,
	mdframed={
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=Gray, backgroundcolor=Gray!5,
			nobreak=false
		}
]{notgraybox}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{Gray!70!black}, bodyfont=\normalfont,
	mdframed={
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=Gray,
			nobreak=false
		}
]{notgrayline}

% \declaretheoremstyle[
% 	headfont=\bfseries\sffamily\color{RawSienna!70!black}, bodyfont=\normalfont,
% 	numbered=no,
% 	mdframed={
% 			linewidth=2pt,
% 			rightline=false, topline=false, bottomline=false,
% 			linecolor=RawSienna, backgroundcolor=RawSienna!1,
% 		},
% 	qed=\qedsymbol
% ]{thmproofbox}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{NavyBlue!70!black}, bodyfont=\normalfont,
	numbered=no,
	mdframed={
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=NavyBlue, backgroundcolor=NavyBlue!1,
			nobreak=false
		}
]{thmexplanationbox}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{WildStrawberry!70!black}, bodyfont=\normalfont,
	numbered=no,
	mdframed={
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=WildStrawberry, backgroundcolor=WildStrawberry!1,
			nobreak=false
		}
]{thmanswerbox}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{Violet!70!black}, bodyfont=\normalfont,
	mdframed={
			linewidth=2pt,
			rightline=false, topline=false, bottomline=false,
			linecolor=Violet, backgroundcolor=Violet!1,
			nobreak=false
		}
]{conjpurplebox}

% Redefine proof environment to get a full control.
\declaretheorem[style=thmexplanationbox, numbered=no, name=Proof]{tmpexplanation}
\newenvironment{explanation}[1][]{\vspace{-10pt}\pushQED{\(\circledast\)}\begin{tmpexplanation}}{\null\hfill\popQED\end{tmpexplanation}}


\declaretheorem[style=thmgreen2box, name=Definition, numbered=no]{definition*}
\declaretheorem[style=thmblueline, numbered=no, name=Remark]{remark}

% Title
\newcommand{\EPFL}{
\textsc{\Huge École Polytechnique\\[0.3cm]Fédérale de Lausanne} \\[0.7cm]
\includegraphics[scale=.11]{../../media/epfl_red.jpg}\\[1.5cm]
}

\newcommand{\headerdescription}[2]{
\center
\rule[0.2cm]{13cm}{0.1cm}
{ \huge \bfseries #1}\\[0.4cm] % Title of your document
{\Large \slshape #2}\\[0.4cm]
\rule[0.2cm]{13cm}{0.1cm}\\[3cm]
}

\newcommand{\headermore}[1]{
\begin{minipage}{0.4\textwidth}
\normalsize
\centering
#1\\
\end{minipage}\\
}

\newcommand{\versionhash}{
    \ifdef{\githubhash}{
        \begin{minipage}{0.8\textwidth}
            \normalsize
            \centering
            Version: \texttt{\StrLeft{\githubhash}{7}}\\
        \end{minipage}\\
    }{}
}